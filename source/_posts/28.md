---
title: 【网络笔记】判断多个IP是否处在同一个网段下和网段划分
date: 2023-02-14 12:51:35.861
updated: 2023-02-14 14:55:58.147
categories: 
- 我的水货
- 技术
- 网络
- 笔记
tags: 
- IP划分
- 网络
- 子网掩码
- 笔记
---

# 【网络笔记】判断多个IP是否处在同一个网段下和网段划分

## 如以下题所示：

**有A B C D 四台电脑主机都处在同一个物理网中，主机A的IP地址是193.168.3.190，主机B的IP地址是193.168.3.65，主机C的IP地址是193.168.3.78，主机D的IP地址是193.168.3.97，这四台主机的子网掩码都是255.255.255.224。**

## 一、问(1)：A B C D四台主机之间哪些可以互相通信？

### 答案：

**B和C可以互相通信**

### 解答：

**首先，把这4个IP地址从十进制转换为二进制**

```
A：193.168.3.190 >>> 11000001.10101000.00000011.10111110
B：193.168.3.65 >>> 11000001.10101000.00000011.01000001
C：193.168.3.78 >>> 11000001.10101000.00000011.01001110
D：193.168.3.97 >>> 11000001.10101000.00000011.01100001
```

**把他们四个主机共同的子网掩码从十进制转换为二进制**

```
255.255.255.224 >>> 11111111.11111111.11111111.11100000
```

**然后把得到二进制的IP和子网掩码，使用“与”运算可以得出网络号**

```
A：   193.	168.	3.	190	#IP地址十进制
   11000001.10101000.00000011.10111110	#IP地址二进制
   11111111.11111111.11111111.11100000	#子网掩码二进制
   	v	v	v	v
   	v	v	v	v
   	v	v	v	v
   11000000.10101000.00000011.10100000	#得出的二进制的网络号
	193.	168.	3.	160	#把上面得到的二进制数再转回十进制
```

```
B：   193.	168.	3.	65	#IP地址十进制
   11000001.10101000.00000011.01000001	#IP地址二进制
   11111111.11111111.11111111.11100000	#子网掩码二进制
   	v	v	v	v
   	v	v	v	v
   	v	v	v	v
   11000000.10101000.00000011.01000000	#得出的二进制的网络号
	193.	168.	3.	64	#把上面得到的二进制数再转回十进制
```

```
C：   193.	168.	3.	78	#IP地址十进制
   11000001.10101000.00000011.01001110	#IP地址二进制
   11111111.11111111.11111111.11100000	#子网掩码二进制
   	v	v	v	v
   	v	v	v	v
   	v	v	v	v
   11000000.10101000.00000011.01000000	#得出的二进制的网络号
	193.	168.	3.	64	#把上面得到的二进制数再转回十进制
```

```
D：   193.	168.	3.	97	#IP地址十进制
   11000001.10101000.00000011.01100001	#IP地址二进制
   11111111.11111111.11111111.11100000	#子网掩码二进制
   	v	v	v	v
   	v	v	v	v
   	v	v	v	v
   11000000.10101000.00000011.01100000	#得出的二进制的网络号
	193.	168.	3.	96	#把上面得到的二进制数再转回十进制
```

**得到的网络号整理一下**

```
A：193.168.3.160
B：193.168.3.64
C：193.168.3.64
D：193.168.3.96
```

**通过上述可以得知，B和C的网络号一样，所以B和C处在同一个网段下！**

## 二、问(2)：若要加入第五台主机E，使它能与D主机直接通信，其IP地址取值范围应该是多少？

### 答案：29个 193.168.3.98---193.168.3.126  (需要排除掉D主机用掉的97)

### 解答：

**上题已经得知，D主机的网段是193.168.3.96，那么网段最小的就是96**

**我们需要知道D主机的网络号和主机号是多少，如下所示**

```
D：   193.	168.	3.	97	#IP地址十进制
   11000001.10101000.00000011.01100001	#IP地址二进制
   11111111.11111111.11111111.11100000	#子网掩码二进制
   
   “11000001.10101000.00000011.011”00001	#双引号内为网络号，外面为主机号
   11111111.11111111.11111111.111|00000 	#管道符隔开，判断网络号和主机号，取子网掩码最后一个为“1”的数
   假设这个IP最大的地址是 “11000001.10101000.00000011.011”11111(二进制最大数为1)
   那么这个IP最大就是193.168.3.127
```

**整合一下：最小是96，最大是127，那么这个网段就是96---127一共32个主机号**

**因为最小主机号和最大主机号，他们的二进制都是0或者1，所以最小96和最大127，都是不合法的主机号**

**那么就是30个可用主机号，排除D主机已经用掉了193.168.3.97主机号，那么范围就是193.168.3.98---193.168.3.126这个范围，所以一共29个可用主机号。**
